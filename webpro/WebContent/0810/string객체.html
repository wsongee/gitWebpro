<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>

function proc1(){
	code = prompt ("주민등록번호를 입력하세요");
	
	
	c1 = code.substring(0,1+1);
// 	res="추출문자열:"+c1+"<br>";
	
	c2= code.substring(2,3+1);
// 	res+="추출문자열:"+c2+"<br>";
	
	c3= code.substring(4,5+1);
// 	res+="추출문자열:"+c3+"<br>";


	gend=code.substring(7,8);
// 	res+="추출문자열:"+gend+"<br>";

	//gend값 비교 , 태어난년도 구하기 1,2이면 1900, 3,4이면 2000 c1과 더한다.
	if(gend==1 || gend==2){
		c1=19+c1;
	}else{
		c1=20+c1;
	}
	
	
	//gend값 비교, 성별구하기. 1,3남자 2,4이면 여자
	if(gend==1 || gend==3){
		sex= "남자";
	}else if(gend==2 ||gend==4){
		sex="여자";
	}
	
	//나이구하기 
	//현재년도 - 태어난년도+1
	

	now =new Date();
	nowdate = now.toLocaleDateString();
	
	agenow = nowdate.substring(0,4);
	//now.getFullYear()+sex+1
	
	
	res="생일 : "+c1+" 년"+c2+" 월"+c3+" 일<br>";
	res+="성별 : "+sex+"<br>";
	res+="나이 : "+(agenow-c1+1)+"세";
	
	document.querySelector('#result1').innerHTML=res;
}


function proc2(){
	str = "234567892345"; //문자열
	code = prompt ("주민등록번호를 입력하세요", "931123-2459813");
	codearr=code.split("-")
	
	code = codearr[0].concat(codearr[1]); //배열 : 9311232459813
	console.log("code = "+ code);
	console.log("code.length = " +code.length);
	
	sum=0;
	
	for(i=0; i<=code.length-1; i++){
		sum+= code[i] *str.substr(i,1);
	}
	
	value = 11-(sum % 11);
	value = value % 10;
	
// 	if(value==10) value=0;
// 	else if(value==11)value =1;
	res="입력 : "+code+"<br>";
	if(value == code[code.length-1]){
		res+="올바른 번호";
	}else{
		res+="누구?"
	}
	
	document.querySelector("#result2").innerHTML=res;
}
</script>
</head>
<body>

<div class="box">
	<h3>1.주민등록번호를 입력받아 생년월일과 성별을 출력하는 프로그램</h3>
	<br>
	<input type="button" value="확인" onclick="proc1()">
	<br><br>
<div id="result1"></div>
</div>

<div class="box">
	<h3>2.주민번호 입력받아 true/false 판별</h3>
	주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(ABCDEF-GHIJKLM)<br>
	A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.<br>
	1번의 합을 11로 나눈 나머지를 구한다.<br>
	11에서 2번의 결과를 뺀다.<br>
	3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
	4번의 결과와 M자리의 값이 같으면 맞는 번호이다.<br>
	
	<br>
	<input type="button" value="확인" onclick="proc2()">
	<br><br>
<div id="result2"></div>
</div>

</body>

</html>